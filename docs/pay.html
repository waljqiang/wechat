<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<HTML>
<HEAD>
<meta charset="utf-8">
<link type="text/css" rel="stylesheet" href="./css/apitest.css" />
<link type="text/css" rel="stylesheet" href="./css/bootstrap.css" />
<script src="./js/jquery-1.7.2.min.js"></script>
<script src="./js/common.js"></script>
</HEAD>
<body>
	<div id="box_opration" class="layout_main_top">
		<div class="main_header">Namespace</div>
        <div class="main_body">Waljqiang\Wechat\Handles</div>
	</div>
    <div id="box_opration" class="layout_main_top">
        <div class="main_header">class</div>
        <div class="main_body">class Pay extends <a href="./base.html" onclick="showParent('#wechat',2)">Base</a></div>
        <div class="main_body">扫码支付,JSAPI支付,H5支付</div>
    </div>
    
    <div id="box_expresion" class="layout_main_middle">
    	<table class="tbl_params">
            <thead class="thead_params">
                <tr>
                    <td width="15%">Detail说明</td>
                    <td width="30%"></td>
                    <td width="35%"></td>
                    <td></td>         
                </tr>
            </thead>
        </table>
        <table class="tbl_params">
            <thead class="thead_params">
                <tr>
                    <td width="15%">字段说明</td>
                    <td width="30%"></td>
                    <td width="35%"></td>
                    <td></td>         
                </tr>
            </thead>
            <tbody class="tbody_params">
                <tr>
                    <td>integer</td>
                    <td>detail.cost_price</td>
                    <td>订单原价</td>
                    <td>非必须,1.商户侧一张小票订单可能被分多次支付,订单原价用于记录整张小票的交易金额.2.当订单原价与支付金额不相等,则不享受优惠.3.该字段主要用于防止同一张小票分多次支付,以享受多次优惠的情况,正常支付订单不必上传此参数.</td>
                </tr>
                <tr>
                    <td>string(32)</td>
                    <td>detail.receipt_id</td>
                    <td>商品小票ID</td>
                    <td>非必须</td>
                </tr>
                <tr>
                    <td>sting</td>
                    <td>goods_detail</td>
                    <td>单品列表</td>
                    <td>使用数组格式</td>
                </tr>
                <tr>
                    <td>sting(32)</td>
                    <td>detail.goods_detail.goods_id</td>
                    <td>商品编码</td>
                    <td>由半角的大小写字母、数字、中划线、下划线中的一种或几种组成</td>
                </tr>
                <tr>
                    <td>sting(32)</td>
                    <td>detail.goods_detail.wxpay_goods_id</td>
                    <td>微信侧商品编码</td>
                    <td>非必须,微信支付定义的统一商品编号</td>
                </tr>
                <tr>
                    <td>sting(256)</td>
                    <td>detail.goods_detail.goods_name</td>
                    <td>商品名称</td>
                    <td>商品的实际名称</td>
                </tr>
                <tr>
                    <td>integer</td>
                    <td>detail.goods_detail.quantity</td>
                    <td>商品名称</td>
                    <td>商品的实际名称</td>
                </tr>
                <tr>
                    <td>integer</td>
                    <td>detail.goods_detail.price</td>
                    <td>商品单价</td>
                    <td>单位为:分.如果商户有优惠,需传输商户优惠后的单价(例如:用户对一笔100元的订单使用了商场发的纸质优惠券100-50,则活动商品的单价应为原单价-50)</td>
                </tr>
            </tbody>
        </table>

        <table class="tbl_params">
            <thead class="thead_params">
                <tr>
                    <td>示例</td>        
                </tr>
            </thead>
            <tbody class="tbody_params">
                <tr>
                    <td><pre>
[
    "cost_price" => 608800, 
    "receipt_id" => "wx123", 
    "goods_detail" => [ //注意goods_detail字段的格式为"goods_detail":[[]],较多商户写成"goods_detail":[]
        [
            "goods_id" => "商品编码", 
            "wxpay_goods_id" => "1001", 
            "goods_name" => "", 
            "quantity" => 1, 
            "price" => 528800
        ], 
        [
            "goods_id" => "商品编码", 
            "wxpay_goods_id" => "1002", 
            "goods_name" => "iPhone6s 32G", 
            "quantity" => 1, 
            "price" => 608800
        ]
    ]
]
                    </pre></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div id="box_expresion" class="layout_main_middle">
        <table class="tbl_params">
            <thead class="thead_params">
                <tr>
                    <td width="15%">Methods</td>
                    <td width="30%"></td>
                    <td width="35%"></td>
                    <td></td>         
                </tr>
            </thead>
        </table>
        <div>
        	<div class="methods_body">public unifiedOrder($data,$payConfig = [],$timeOut = 600)</div>
	  		<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>统一下单</td>
	                </tr>
	                <tr>
	                    <td>支持NATIVE</td>
	                </tr>
	            </tbody>
	       	</table>

	       	 <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>$data.device_info</td>
	                    <td>设备号</td>
	                    <td>非必须,可以为终端设备号(门店号或收银设备ID),PC网页或公众号内支付可以传"WEB"</td>
	                </tr>
	                <tr>
	                    <td>string(128)</td>
	                    <td>$data.body</td>
	                    <td>商品描述</td>
	                    <td>浏览器打开的网站主页title名-商品概述</td>
	                </tr>
	                <tr>
	                    <td>string(6000)</td>
	                    <td>$data.detail</td>
	                    <td>商品详细描述</td>
	                    <td>非必须,请参阅上面detail详细说明</td>
	                </tr>
	                <tr>
	                    <td>string(127)</td>
	                    <td>$data.attach</td>
	                    <td>附加数据</td>
	                    <td>非必须,在查询API和支付通知中原样返回,可作为自定义参数使用</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.out_trade_no</td>
	                    <td>商户订单号</td>
	                    <td>非必须,不传系统默认生成</td>
	                </tr>
	                <tr>
	                    <td>string(16)</td>
	                    <td>$data.fee_type</td>
	                    <td>货币类型</td>
	                    <td>非必须,不传默认CNY</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>$data.total_fee</td>
	                    <td>订单总金额</td>
	                    <td>单位分</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>$data.expire</td>
	                    <td>过期时间</td>
	                    <td>单位秒</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.goods_tag</td>
	                    <td>订单优惠标记</td>
	                    <td>非必须,在goods_tag配置项中设置了goods_tag(内容自定义),则只有在支付接口中上传了该参数给微信,goods_tag内容与配置内容相同,且支付金额满足代金券使用条件才会触发代金券的使用.不设置则只要支付金额满足条件就会触发代金券的使用</td>
	                </tr>
	                <tr>
	                    <td>string(16)</td>
	                    <td>$data.trade_type</td>
	                    <td>交易类型</td>
	                    <td>JSAPI支付或小程序支付;NATIVE,Native支付;APP,app支付;MWEB,H5支付;MICROPAY,付款码支付</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.product_id</td>
	                    <td>商品ID</td>
	                    <td>trade_type=NATIVE时,此参数必传.此参数为二维码中包含的商品ID,商户自行定义.</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.limit_pay</td>
	                    <td>指定支付方式</td>
	                    <td>非必须,详情请查看https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=4_2参数规定一节</td>
	                </tr>
	                <tr>
	                    <td>string(128)</td>
	                    <td>$data.openid</td>
	                    <td>用户openid</td>
	                    <td>非必须,trade_type=JSAPI时(即JSAPI支付)此参数必传,此参数为微信用户在商户对应appid下的唯一标识</td>
	                </tr>
	                <tr>
	                    <td>string(8)</td>
	                    <td>$data.receipt</td>
	                    <td>电子发票入口开放标识</td>
	                    <td>非必须,传入Y时，支付成功消息和支付详情页将出现开票入口</td>
	                </tr>
	                <tr>
	                    <td>array</td>
	                    <td>$data.scene_info</td>
	                    <td>场景信息,H5支付必须</td>
	                    <td><pre>
NATIVE/JSAPI支付下
[
	"store_info" => [
		"id" => "",<span class="note">门店编号(string 32),非必须,商户自定义</span> 
		"name" => "",<span class="note">门店名称(string 64),非必须,商户自定义</span>
		"area_code" => "",<span class="note">门店所在地行政区划码,非必须,请参阅https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=9_1</span>
		"address" => ""<span class="note">门店详细地址(string 128),非必须</span>
	]
]

H5支付下:
1,IOS移动应用
[
	"h5_info" => [
    	"type" => "IOS",  <span class="note">[场景类型]</span>
     	"app_name" => "",<span class="note">[应用名]</span>
     	"bundle_id" =>  ""<span class="note">[bundle_id]</span>
    ]
]
2,安卓移动应用
[	"h5_info" => [
		"type" => "",
     	"app_name" => "Android",
     	"package_name" => ""<span class="note">[包名]</span>
    ]
]
3,WAP网站应用
[
	"h5_info" => [
   		"type" => "Wap",
    	"wap_url" => "",<span class="note">[WAP网站URL地址]</span>
    	"wap_name" => ""<span class="note">[WAP网站名称]</span>
    ]
]
						</pre></td>
	                </tr>
	                <tr>
	                    <td>array</td>
	                    <td>$wxPayConfig</td>
	                    <td>微信支付配置信息</td>
	                    <td>默认为空数组,使用配置文件中的配置信息</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>$timeOut</td>
	                    <td>请求微信超时时间</td>
	                    <td>默认为60秒</td>
	                </tr>
	            </tbody>
	       	</table>

	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>调用示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	                <tr><td><pre>
支付二维码示例(NATIVE):
$data = [
	"device_info" => "WEB",
	"body" => "商品描述",
	"detail" => [
	    "cost_price" => 608800, 
	    "receipt_id" => "wx123", 
	    "goods_detail" => [ //注意goods_detail字段的格式为"goods_detail":[[]],较多商户写成"goods_detail":[]
	        [
	            "goods_id" => "商品编码", 
	            "wxpay_goods_id" => "1001", 
	            "goods_name" => "", 
	            "quantity" => 1, 
	            "price" => 528800
	        ], 
	        [
	            "goods_id" => "商品编码", 
	            "wxpay_goods_id" => "1002", 
	            "goods_name" => "iPhone6s 32G", 
	            "quantity" => 1, 
	            "price" => 608800
	        ]
	    ]
	],
	"attach" => "附加数据",
	"total_fee" => "608800",
	"expire" => 300,
	"goods_tag" => "WXG",
	"trade_type" => "NATIVE",
	"product_id" => "12235413214070356458058"
];
Wechat::getInstance()->unifiedOrder($data);
	                    </pre></td>
	                </tr>
	                <tr><td><pre>
JSAPI示例:
$data = [
	"body" => "商品描述",
	"attach" => "附加数据",
	"total_fee" => "608800",
	"expire" => 300,
	"goods_tag" => "WXG",
	"trade_type" => "JSAPI",
	"openid" => "oUpF8uMuAJO_M2pxb1Q9zNjWeS6o"
];
Wechat::getInstance()->unifiedOrder($data);
	                    </pre></td>
	                </tr>
	                <tr><td><pre>
H5支付示例:
$data = [
	"body" => "商品描述",
	"attach" => "附加数据",
	"total_fee" => "608800",
	"expire" => 300,
	"goods_tag" => "WXG",
	"trade_type" => "MWEB",
	"scene_info" => [
		"h5_info" => [
	   		"type" => "Wap",
	    	"wap_url" => "https://pay.qq.com",
	    	"wap_name" => "腾讯充值"
	    ]
	]
];
Wechat::getInstance()->unifiedOrder($data);
	                    </pre></td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">返回参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>appid</td>
	                    <td>公共号appid</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>mch_id</td>
	                    <td>商户号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>openid</td>
	                    <td>用户openid</td>
	                    <td>NATIVE时没有此地段</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>device_info</td>
	                    <td>设备号</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>nonce_str</td>
	                    <td>随机字符串</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>sign</td>
	                    <td>签名</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>trade_type</td>
	                    <td>交易类型</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>prepay_id</td>
	                    <td>预支付交易会话标识</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>code_url</td>
	                    <td>二维码地址</td>
	                    <td>当交易类型为NATIVE(二维码支付)有此值,"http://paysdk.weixin.qq.com/example/qrcode.php?data=" . urlencode($result["code_url"]);为生成的支付二维码</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>mweb_url</td>
	                    <td>支付跳转链接</td>
	                    <td>H5支付有此地段,mweb_url为拉起微信支付收银台的中间页面,可通过访问该url来拉起微信客户端,完成支付,mweb_url的有效期为5分钟.需要拼接'&redirect_url=' . urlencode($redirect_url),支付成功后微信跳转到redirect_url指定的地址上</td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>返回参数示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td><pre>
二维码支付示例:
[
	"appid" => "wxdaa43d75b815f44e",
	"mch_id" => "1347427701",
	"nonce_str" => "IITRi8Iabbblz1Jc",
	"sign" => "7921E432F65EB8ED0CE9755F0E86D72F",
	"prepay_id" => "wx201411101639507cbf6ffd8b0779950874",
	"trade_type" => "NATIVE",
	"code_url" => "weixin://wxpay/bizpayurl/up?pr=NwY5Mz9&groupid=00"
]
	                	</pre></td>
	                </tr>
					<tr>
	                    <td><pre>
JSAPI示例:
[
	"appid" => "wxdaa43d75b815f44e",
	"mch_id" => "1347427701",
	"nonce_str" => "IITRi8Iabbblz1Jc",
	"sign" => "7921E432F65EB8ED0CE9755F0E86D72F",
	"prepay_id" => "wx201411101639507cbf6ffd8b0779950874",
	"trade_type" => "JSAPI"
]
	                	</pre></td>
	                </tr>
	                <tr>
	                    <td><pre>
H5示例:
[
	"appid" => "wxdaa43d75b815f44e",
	"mch_id" => "1347427701",
	"nonce_str" => "IITRi8Iabbblz1Jc",
	"sign" => "7921E432F65EB8ED0CE9755F0E86D72F",
	"prepay_id" => "wx201411101639507cbf6ffd8b0779950874",
	"trade_type" => "MWEB",
	"mweb_url" => "https://wx.tenpay.com/cgi-bin/mmpayweb-bin/checkmweb?prepay_id=wx2016121516420242444321ca0631331346&package=1405458241"
]
	                	</pre></td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">public orderQuery($data,$payConfig = [],$timeOut = 6)</div>
	  		<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>查询订单</td>
	                </tr>
	                <tr>
	                    <td>支持NATIVE</td>
	                </tr>
	            </tbody>
	       	</table>

	       	 <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.transaction_id</td>
	                    <td>微信订单号</td>
	                    <td>与out_trade_no二选一,建议优先使用</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.out_trade_no</td>
	                    <td>商户订单号</td>
	                    <td>与transaction二选一</td>
	                </tr>
	                <tr>
	                    <td>array</td>
	                    <td>$wxPayConfig</td>
	                    <td>微信支付配置信息</td>
	                    <td>默认为空数组,使用配置文件中的配置信息</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>$timeOut</td>
	                    <td>请求微信超时时间</td>
	                    <td>默认为60秒</td>
	                </tr>
	            </tbody>
	       	</table>

	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>调用示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	                <tr><td><pre>
$data = [
	"transaction_id" => "1009660380201506130728806387",
	"out_trade_no" => "20150806125346",
];
Wechat::getInstance()->orderQuery($data);
	                    </pre></td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">返回参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>appid</td>
	                    <td>公共号appid</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>mch_id</td>
	                    <td>商户号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>nonce_str</td>
	                    <td>随机字符串</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>sign</td>
	                    <td>签名</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>device_info</td>
	                    <td>设备号</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>string(128)</td>
	                    <td>openid</td>
	                    <td>用户openid</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>string(1)</td>
	                    <td>is_subscribe</td>
	                    <td>用户是否关注公众号</td>
	                    <td>Y,关注;N,未关注;return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>string(16)</td>
	                    <td>trade_type</td>
	                    <td>交易类型</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>trade_state</td>
	                    <td>交易状态</td>
	                    <td>SUCCESS,支付成功;REFUND,转入退款;NOTPAY,未支付;CLOSED,已关闭;REVOKED,已撤销(付款码支付);USERPAYING,用户支付中(付款码支付);PAYERROR,支付失败(其他原因,如银行返回失败)</td>
	                </tr>
	                <tr>
	                    <td>string(16)</td>
	                    <td>bank_type</td>
	                    <td>付款银行</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>total_fee</td>
	                    <td>标价金额</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>settlement_total_fee</td>
	                    <td>应结订单金额</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>sting(8)</td>
	                    <td>fee_type</td>
	                    <td>标价币种</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>cash_fee</td>
	                    <td>现金支付金额</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>sting(16)</td>
	                    <td>cash_fee_type</td>
	                    <td>现金支付币种</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>coupon_fee</td>
	                    <td>代金券金额</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>coupon_count</td>
	                    <td>代金券使用数量</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>coupon_type_$n</td>
	                    <td>代金券类型</td>
	                    <td>非必须,CASH,充值代金券;NO_CASH,非充值优惠券;开通免充值券功能,并且订单使用了优惠券后有返回(取值:CASH、NO_CASH).$n为下标,从0开始编号,举例：coupon_type_$0</td>
	                </tr>
	                <tr>
	                    <td>string(20)</td>
	                    <td>coupon_id_$n</td>
	                    <td>代金券ID</td>
	                    <td>非必须,$n为下标,从0开始编号</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>coupon_fee_$n</td>
	                    <td>单个代金券支付金额</td>
	                    <td>非必须,$n为下标,从0开始编号</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>transaction_id</td>
	                    <td>微信支付订单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>out_trade_no</td>
	                    <td>商户订单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string(128)</td>
	                    <td>attach</td>
	                    <td>附加数据</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>string(14)</td>
	                    <td>time_end</td>
	                    <td>支付完成时间</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	                <tr>
	                    <td>string(256)</td>
	                    <td>trade_state_desc</td>
	                    <td>交易状态描述</td>
	                    <td>return_code 、result_code、trade_state都为SUCCESS时有返回</td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>返回参数示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td><pre>
[
	"appid" => "wx2421b1c4370ec43b",
	"mch_id" => 10000100",
	"device_info" => 1000",
	"nonce_str" => TN55wO9Pba5yENl8",
	"sign" => "BDF0099C15FF7BC6B1585FBB110AB635",
	"openid" => "oUpF8uN95-Ptaags6E_roPHg7AG0",
	"is_subscribe" => "Y",
	"trade_type" => "MICROPAY",
	"bank_type" => "CCB_DEBIT",
	"total_fee" => 1,
	"fee_type" => "CNY",
	"transaction_id" => "1008450740201411110005820873",
	"out_trade_no" => "1415757673",
	"attach" => "订单额外描述",
	"time_end" => "20141111170043",
	"trade_state" => "SUCCESS"
]
	                	</pre></td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">public closeOrder($outTradeNo,$wxPayConfig = [],$timeOut = 6)</div>
	  		<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>关闭订单</td>
	                </tr>
	                <tr>
	                    <td>支持NATIVE</td>
	                </tr>
	            </tbody>
	       	</table>

	       	 <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$outTradeNo</td>
	                    <td>商户订单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>array</td>
	                    <td>$wxPayConfig</td>
	                    <td>微信支付配置信息</td>
	                    <td>默认为空数组,使用配置文件中的配置信息</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>$timeOut</td>
	                    <td>请求微信超时时间</td>
	                    <td>默认为60秒</td>
	                </tr>
	            </tbody>
	       	</table>

	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>调用示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	                <tr><td><pre>
Wechat::getInstance()->closeOrder(["out_trade_no" => "20150806125346"]);
	                    </pre></td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">返回参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>appid</td>
	                    <td>公共号appid</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>mch_id</td>
	                    <td>商户号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>nonce_str</td>
	                    <td>随机字符串</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>sign</td>
	                    <td>签名</td>
	                    <td></td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>返回参数示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td><pre>
[
	"appid" => "wx2421b1c4370ec43b",
	"mch_id" => 10000100",
	"nonce_str" => TN55wO9Pba5yENl8",
	"sign" => "BDF0099C15FF7BC6B1585FBB110AB635"
]
	                	</pre></td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">public refund($data,$wxPayConfig = [],$timeOut = 600)</div>
	  		<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>申请退款</td>
	                </tr>
	                <tr>
	                    <td style="color:#DC143C">需要证书支持</td>
	                </tr>
	                <tr>
	                    <td>支持NATIVE</td>
	                </tr>
	            </tbody>
	       	</table>

	       	 <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.transaction_id</td>
	                    <td>微信订单号</td>
	                    <td>与out_trade_no二选一,建议优先使用</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.out_trade_no</td>
	                    <td>商户订单号</td>
	                    <td>与transaction二选一</td>
	                </tr>
	                <tr>
	                    <td>string(64)</td>
	                    <td>$data.out_refund_no</td>
	                    <td>商户退款单号</td>
	                    <td>商户系统内部的退款单号,商户系统内部唯一,只能是数字、大小写字母_-|*@ ,同一退款单号多次请求只退一笔</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>$data.total_fee</td>
	                    <td>订单金额</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>$data.refund_fee</td>
	                    <td>退款金额</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string(8)</td>
	                    <td>$data.refund_fee_type</td>
	                    <td>退款货币种类</td>
	                    <td>非必须,默认CNY</td>
	                </tr>
	                <tr>
	                    <td>string(80)</td>
	                    <td>$data.refund_desc</td>
	                    <td>退款原因</td>
	                    <td>非必须,若商户传入,会在下发给用户的退款消息中体现退款原因注意：若订单退款金额≤1元,且属于部分退款,则不会在退款消息中体现退款原因</td>
	                </tr>
	                <tr>
	                    <td>string(30)</td>
	                    <td>$data.refund_account</td>
	                    <td>退款资金来源</td>
	                    <td>非必须,仅针对老资金流商户使用REFUND_SOURCE_UNSETTLED_FUNDS,未结算资金退款(默认使用未结算资金退款)REFUND_SOURCE_RECHARGE_FUNDS,可用余额退款</td>
	                </tr>
	                <tr>
	                    <td>string(256)</td>
	                    <td>$data.notify_url</td>
	                    <td>退款结果通知url</td>
	                    <td>非必须,异步接收微信支付退款结果通知的回调地址,通知URL必须为外网可访问的url,不允许带参数,如果参数中传了notify_url,则商户平台上配置的回调地址将不会生效</td>
	                </tr>
	                <tr>
	                    <td>array</td>
	                    <td>$wxPayConfig</td>
	                    <td>微信支付配置信息</td>
	                    <td>默认为空数组,使用配置文件中的配置信息</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>$timeOut</td>
	                    <td>请求微信超时时间</td>
	                    <td>默认为60秒</td>
	                </tr>
	            </tbody>
	       	</table>

	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>调用示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	                <tr><td><pre>
$data = [
	"transaction_id" => "1217752501201407033233368018",
	"out_trade_no" => "1415757673",
	"out_refund_no" => "1415701182",
	"total_fee" => 100,
	"refund_fee" => 100
];
Wechat::getInstance()->refund($data);
	                    </pre></td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">返回参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>appid</td>
	                    <td>公共号appid</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>mch_id</td>
	                    <td>商户号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>nonce_str</td>
	                    <td>随机字符串</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>sign</td>
	                    <td>签名</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>transaction_id</td>
	                    <td>微信订单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>out_trade_no</td>
	                    <td>商户订单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>out_refund_no</td>
	                    <td>商户退款单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>refund_id</td>
	                    <td>微信退款单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>refund_fee</td>
	                    <td>退款金额</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>settlement_refund_fee</td>
	                    <td>应结退款金额</td>
	                    <td>非必须,去掉非充值代金券退款金额后的退款金额,退款金额=申请退款金额-非充值代金券退款金额,退款金额<=申请退款金额</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>fee_type</td>
	                    <td>标价币种</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>cash_fee</td>
	                    <td>现金支付金额</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>cash_fee_type</td>
	                    <td>现金支付币种</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>cash_refund_fee</td>
	                    <td>现金退款金额</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>coupon_type_$n</td>
	                    <td>代金券类型</td>
	                    <td>非必须,CASH,充值代金券;NO_CASH,非充值优惠券;开通免充值券功能,并且订单使用了优惠券后有返回(取值:CASH、NO_CASH).$n为下标,从0开始编号,举例：coupon_type_$0</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>coupon_refund_fee</td>
	                    <td>代金券退款总金额</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>coupon_refund_fee_$n</td>
	                    <td>单个代金券退款金额</td>
	                    <td>非必须,$n为下标,从0开始编号</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>coupon_refund_count</td>
	                    <td>退款代金券使用数量</td>
	                    <td>非必须</td>
	                </tr>            
	                <tr>
	                    <td>string(20)</td>
	                    <td>coupon_refund_id_$n</td>
	                    <td>退款代金券ID</td>
	                    <td>非必须,$n为下标,从0开始编号</td>
	                </tr>         
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>返回参数示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td><pre>
[
	"appid" => "wx2421b1c4370ec43b",
	"mch_id" => 10000100",
	"nonce_str" => TN55wO9Pba5yENl8",
	"sign" => "BDF0099C15FF7BC6B1585FBB110AB635",
	"transaction_id" => "1008450740201411110005820873",
   	"out_trade_no" => "1415757673",
   	"out_refund_no" => "1415701182",
   	"refund_id" => "2008450740201411110000174436",
   	"refund_fee" => 1
]
	                	</pre></td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">public refundQuery($data,$wxPayConfig = [],$timeOut = 600)</div>
	  		<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>查询退款</td>
	                </tr>
	                <tr>
	                    <td>支持NATIVE</td>
	                </tr>
	            </tbody>
	       	</table>

	       	 <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.transaction_id</td>
	                    <td>微信订单号</td>
	                    <td>微信订单号查询的优先级是refund_id > out_refund_no > transaction_id > out_trade_no,四选一</td>
	                </tr>
	                <tr>
	                    <td>string(32)</td>
	                    <td>$data.out_trade_no</td>
	                    <td>商户订单号</td>
	                    <td>四选一</td>
	                </tr>
	                <tr>
	                    <td>string(64)</td>
	                    <td>$data.out_refund_no</td>
	                    <td>商户退款单号</td>
	                    <td>四选一</td>
	                </tr>
	                <tr>
	                    <td>string(64)</td>
	                    <td>$data.refund_id</td>
	                    <td>微信退款单号</td>
	                    <td>四选一</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>$data.offset</td>
	                    <td>偏移量</td>
	                    <td>非必须,微信订单号或商户订单号调退款查询时,默认返回前10笔和订单总退款次数,当部分退款次数超过10次时可使用订单号及offset来查询</td>
	                </tr>
	            </tbody>
	       	</table>

	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>调用示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	                <tr><td><pre>
$data = [
	"transaction_id" => "1008450740201411110005820873"
];
Wechat::getInstance()->refundQuery($data);
	                    </pre></td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">返回参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>appid</td>
	                    <td>公共号appid</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>mch_id</td>
	                    <td>商户号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>nonce_str</td>
	                    <td>随机字符串</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>sign</td>
	                    <td>签名</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>total_refund_count</td>
	                    <td>订单总退款次数</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>transaction_id</td>
	                    <td>微信订单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>out_trade_no</td>
	                    <td>商户订单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>out_refund_no</td>
	                    <td>商户退款单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>total_fee</td>
	                    <td>订单金额</td>
	                    <td></td>
	                </tr>	                
	                <tr>
	                    <td>integer</td>
	                    <td>settlement_total_fee</td>
	                    <td>应结退款金额</td>
	                    <td>非必须,当订单使用了免充值型优惠券后返回该参数,应结订单金额=订单金额-免充值优惠券金额</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>fee_type</td>
	                    <td>货币种类</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>cash_fee</td>
	                    <td>现金支付金额</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>refund_count</td>
	                    <td>退款笔数</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>out_refund_no_$n</td>
	                    <td>商户退款单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>refund_id_$n</td>
	                    <td>微信退款单号</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>refund_channel_$n</td>
	                    <td>退款渠道</td>
	                    <td>ORIGINAL,原路退款;BALANCE,退回到余额;OTHER_BALANCE,原账户异常退到其他余额账户;OTHER_BANKCARD,原银行卡异常退到其他银行卡</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>refund_fee_$n</td>
	                    <td>申请退款金额</td>
	                    <td></td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>settlement_refund_fee_$n</td>
	                    <td>退款金额</td>
	                    <td>退款金额=申请退款金额-非充值代金券退款金额,退款金额<=申请退款金额</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>coupon_type_$n_$m</td>
	                    <td>代金券类型</td>
	                    <td>非必须,CASH,充值代金券;NO_CASH,非充值优惠券;开通免充值券功能,并且订单使用了优惠券后有返回(取值:CASH、NO_CASH).$n为下标,$m为下标,从0开始编号,举例：coupon_type_$0_$1</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>coupon_refund_fee_$n</td>
	                    <td>总代金券退款金额</td>
	                    <td>非必须,代金券退款金额<=退款金额,退款金额-代金券或立减优惠退款金额为现金</td>
	                </tr>
	                <tr>
	                    <td>integer</td>
	                    <td>coupon_refund_count_$n</td>
	                    <td>退款代金券使用数量</td>
	                    <td>非必须,$n为下标,从0开始编号</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>coupon_refund_id_$n_$m</td>
	                    <td>退款代金券ID</td>
	                    <td>非必须</td>
	                </tr>            
	                <tr>
	                    <td>integer</td>
	                    <td>coupon_refund_fee_$n_$m</td>
	                    <td>单个代金券退款金额</td>
	                    <td>非必须</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>refund_status_$n</td>
	                    <td>退款状态</td>
	                    <td>SUCCESS,退款成功;REFUNDCLOSE,退款关闭;PROCESSING,退款处理中;CHANGE,退款异常,退款到银行发现用户的卡作废或者冻结了,导致原路退款银行卡失败,可前往商户平台（pay.weixin.qq.com）-交易中心,手动处理此笔退款.$n为下标，从0开始编号</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>refund_account_$n</td>
	                    <td>退款资金来源</td>
	                    <td>REFUND_SOURCE_RECHARGE_FUNDS,可用余额退款/基本账户;REFUND_SOURCE_UNSETTLED_FUNDS,未结算资金退款;$n为下标，从0开始编号</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>refund_recv_accout_$n</td>
	                    <td>退款入账账户</td>
	                    <td>取当前退款单的退款入账方;退回银行卡:{银行名称}{卡类型}{卡尾号};退回支付用户零钱:支付用户零钱;退还商户:商户基本账户,商户结算银行账户;退回支付用户零钱通:支付用户零钱通</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>refund_success_time_$n</td>
	                    <td>退款成功时间</td>
	                    <td>非必须,退款成功时间,当退款状态为退款成功时有返回.$n为下标,从0开始编号</td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>返回参数示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td><pre>
[
	"appid" => "wx2421b1c4370ec43b",
	"mch_id" => 10000100",
	"nonce_str" => TN55wO9Pba5yENl8",
	"sign" => "BDF0099C15FF7BC6B1585FBB110AB635",
   	"out_refund_no_0" => "1415701182",
    "out_trade_no" => "1415757673",
    "refund_count" => 1,
    "refund_fee_0" => 1,
    "refund_id_0" => "2008450740201411110000174436",
    "refund_status_0" => "PROCESSING",
    "transaction_id" => "1008450740201411110005820873"
]
	                	</pre></td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">public downloadBill($data,$wxPayConfig = [],$timeOut = 600)</div>
	  		<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>下载对账单</td>
	                </tr>
	                <tr>
	                    <td>支持NATIVE</td>
	                </tr>
	                <tr>
	                    <td style="color:#DC143C">微信侧未成功下单的交易不会出现在对账单中.支付成功后撤销的交易会出现在对账单中,跟原支付单订单号一致</td>
	                </tr>
	                <tr>
	                    <td style="color:#DC143C">微信在次日9点启动生成前一天的对账单,建议商户10点后再获取</td>
	                </tr>
	                <tr>
	                    <td style="color:#DC143C">对账单中涉及金额的字段单位为"元"</td>
	                </tr>
	                <tr>
	                    <td style="color:#DC143C">对账单接口只能下载三个月以内的账单</td>
	                </tr>
	                <tr>
	                    <td style="color:#DC143C">对账单是以商户号纬度来生成的,如一个商户号与多个appid有绑定关系,则使用其中任何一个appid都可以请求下载对账单.对账单中的appid取自交易时候提交的appid,与请求下载对账单时使用的appid无关</td>
	                </tr>
	            </tbody>
	       	</table>

	       	 <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string(8)</td>
	                    <td>$data.bill_date</td>
	                    <td>对账单日期</td>
	                    <td>下载对账单的日期,格式:20140603</td>
	                </tr>
	                <tr>
	                    <td>string(8)</td>
	                    <td>$data.bill_type</td>
	                    <td>账单类型</td>
	                    <td>非必须,ALL(默认值),返回当日所有订单信息(不含充值退款订单)SUCCESS,返回当日成功支付的订单(不含充值退款订单)REFUND,返回当日退款订单(不含充值退款订单)RECHARGE_REFUND,返回当日充值退款订单</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>$data.tar_type</td>
	                    <td>压缩账单</td>
	                    <td>非必须,固定值:GZIP,返回格式为.gzip的压缩包账单.不传则默认为数据流形式</td>
	                </tr>
	            </tbody>
	       	</table>

	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>调用示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	                <tr><td><pre>
$data = [
	"transaction_id" => "1008450740201411110005820873"
];
Wechat::getInstance()->refundQuery($data);
	                    </pre></td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">返回参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>返回请参看微信支付-下载对账单接口说明https://pay.weixin.qq.com/wiki/doc/api/native.php?chapter=9_6</td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>返回参数示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td><pre>
无
	                	</pre></td>
	                </tr>
	            </tbody>
	       	</table>
        </div>
    </div>
</body>
</html>