<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<HTML>
<HEAD>
<meta charset="utf-8">
<link type="text/css" rel="stylesheet" href="./css/apitest.css" />
<link type="text/css" rel="stylesheet" href="./css/bootstrap.css" />
<script src="./js/jquery-1.7.2.min.js"></script>
<script src="./js/common.js"></script>
</HEAD>
<body>
	<div id="box_opration" class="layout_main_top">
		<div class="main_header">Namespace</div>
        <div class="main_body">Waljqiang\Wechat\Handles</div>
	</div>
    <div id="box_opration" class="layout_main_top">
        <div class="main_header">class</div>
        <div class="main_body">class Receive extends <a href="./message.html" onclick="showParent('#wechat','Message::class')">Waljqiang\Wechat\Handles\Message</a></div>
    </div>
    <div id="box_expresion" class="layout_main_middle">
    	<table class="tbl_params">
            <thead class="thead_params">
                <tr>
                    <td width="15%">Constants</td>
                    <td width="30%"></td>
                    <td width="35%"></td>
                    <td></td>         
                </tr>
            </thead>
            <tbody class="tbody_params">
                <tr>
                    <td>parent::MENU</td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::TAG</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::TAGFANS</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::USERTAGS</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::USERINFO</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::USERLIST</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::QRCODE</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::KFACCOUNT</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                 <tr>
                    <td>parent::INDUSTRY</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::TEMPLATELIST</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::SHOP</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::SHOPLIST</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::WIFISHOPLIST</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::WIFISHOP</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::DEVICELIST</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::AVATARTYPE</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::SHOPIMAGE</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>

    <div id="box_expresion" class="layout_main_middle">
        <table class="tbl_params">
            <thead class="thead_params">
                <tr>
                    <td width="15%">Properties</td>
                    <td width="30%"></td>
                    <td width="35%"></td>
                    <td></td>         
                </tr>
            </thead>
            <tbody class="tbody_params">
                <tr>
                    <td>parent::$api</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
                <tr>
                    <td>parent::$wechat</td>
                    <td></td>
                    <td></td>
                    <td></td>
                </tr>
            </tbody>
        </table>
    </div>
    <div id="box_expresion" class="layout_main_middle">
        <table class="tbl_params">
            <thead class="thead_params">
                <tr>
                    <td width="15%">Methods</td>
                    <td width="30%"></td>
                    <td width="35%"></td>
                    <td></td>         
                </tr>
            </thead>
        </table>
        <div>
        	<div class="methods_body">parent::__construct(Wechat $wechat)</div>
	  		<table class="tbl_params">
	            <thead class="thead_params">
	                
	            </thead>
	            <tbody class="tbody_params">
	            	
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">parent::setWechat(Wechat $wechat)</div>
	        <table class="tbl_params">
	            <thead class="thead_params">
	                
	            </thead>
	            <tbody class="tbody_params">
	            	
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">parent::checkMsgType($messageType)</div>
	        <table class="tbl_params">
	            <thead class="thead_params">
	                
	            </thead>
	            <tbody class="tbody_params">
	            	
	            </tbody>
	       	</table>
        </div>
        <div>
        	<div class="methods_body">public function handleWechatMessage($message,$appid = "",$signature = "",$timestamp ="",$nonce = "",$echostr = "")</div>
	        <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>处理公众号推送的消息</td>
	                </tr>
	            </tbody>
	       	</table>
	        <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>类型</td>
	                    <td>名称</td>
	                    <td>说明</td>
	                    <td>备注</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>$message</td>
	                    <td>公众号推送的消息</td>
	                    <td>xml格式</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>$appid</td>
	                    <td>公众号推送消息url中携带的appid</td>
	                    <td>默认为空</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>$signature</td>
	                    <td>公众号推送消息url中携带的signature</td>
	                    <td>默认为空</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>$timeStamp</td>
	                    <td>公众号推送消息url中携带的timestamp</td>
	                    <td>默认为空</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>$nonce</td>
	                    <td>公众号推送消息url中携带的nonce</td>
	                    <td>默认为空</td>
	                </tr>
	                <tr>
	                    <td>string</td>
	                    <td>$echostr</td>
	                    <td>公众号推送消息url中携带的echostr</td>
	                    <td>默认为空</td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>调用示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td><pre><xmp>
示例1:
$message = "<xml>
  <ToUserName><![CDATA[toUser]]></ToUserName>
  <FromUserName><![CDATA[FromUser]]></FromUserName>
  <CreateTime>123456789</CreateTime>
  <MsgType><![CDATA[event]]></MsgType>
  <Event><![CDATA[subscribe]]></Event>
</xml>";
$appid = "wx5b18b274db7372d6";
$signature = "dsdasdfdas";
$timestamp = "1122321234534";
$nonce = "123456";
$res = $wechat->handleWechatMessage($message,$appid,$signature,$timestamp,$nonce);
	                    </xmp></pre></td>
	                </tr>
	                <tr>
	                    <td><pre><xmp>
示例2:
$message = "<xml>
  <ToUserName><![CDATA[toUser]]></ToUserName>
  <FromUserName><![CDATA[FromUser]]></FromUserName>
  <CreateTime>123456789</CreateTime>
  <MsgType><![CDATA[event]]></MsgType>
  <Event><![CDATA[subscribe]]></Event>
</xml>";
$appid = "wx5b18b274db7372d6";
$signature = "dsdasdfdas";
$timestamp = "1122321234534";
$nonce = "123456";
$receive = new Receive($wechat);
$res = $receive->handleWechatMessage($message,$appid,$signature,$timestamp,$nonce);
	                    </xmp></pre></td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td width="10%">返回参数说明</td>
	                    <td width="10%"></td>
	                    <td width="20%"></td>
	                    <td></td>         
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>array</td>
	                    <td></td>
	                    <td></td>
	                    <td>xml消息体转变成数组格式消息体</td>
	                </tr>
	            </tbody>
	       	</table>
	       	<table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>返回参数示例</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td><pre>
[
 	"ToUserName" => "toUser",<span class="note">[用户openID]</span>
  	"FromUserName" => "FromUser",<span class="note">[公众号账号]</span>
  	"CreateTime" => "123456789",<span class="note">[创建时间]</span>
  	"MsgType" => "event",<span class="note">[消息类型]</span>
  	"Event" => "subscribe"<span class="note">[事件类型]</span>
]
	                	</pre></td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">private function handleEvent($obj,$appid = "",$signature = "",$timestamp ="",$nonce = "",$echostr = "")</div>
	        <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>事件类型消息处理</td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">private function handleUnsubscribe($message,$appid = "")</div>
	        <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>处理取消关注事件消息</td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">private function handleLocation($message,$appid = "")</div>
	        <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>处理上报地理位置事件消息</td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">private function handleTplSend($message,$appid = "")</div>
	        <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>模板消息是否送达处理</td>
	                </tr>
	            </tbody>
	       	</table>
        </div>

        <div>
        	<div class="methods_body">private function handlePoiCheckNotify($message,$appid = ""</div>
	        <table class="tbl_params">
	            <thead class="thead_params">
	                <tr>
	                    <td>说明</td>       
	                </tr>
	            </thead>
	            <tbody class="tbody_params">
	            	<tr>
	                    <td>门店审核推送事件处理</td>
	                </tr>
	            </tbody>
	       	</table>
        </div>
    </div>
</body>
</html>